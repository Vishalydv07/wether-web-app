{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vishal yadav/Downloads/weather-app-main/weather-app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vishal yadav/Downloads/weather-app-main/weather-app-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vishal yadav/Downloads/weather-app-main/weather-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{AsyncPaginate}from\"react-select-async-paginate\";import{GEO_API_URL,geoApiOptions}from\"../../Api\";import{jsx as _jsx}from\"react/jsx-runtime\";var Search=function Search(_ref){var onSearchChange=_ref.onSearchChange;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var loadOptions=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputValue){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(GEO_API_URL,\"/cities?minPopulation=1000000&namePrefix=\").concat(inputValue),geoApiOptions);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;return _context.abrupt(\"return\",{options:data.data.map(function(city){return{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\", \").concat(city.countryCode)};})});case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);return _context.abrupt(\"return\",{options:[]});case 14:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function loadOptions(_x){return _ref2.apply(this,arguments);};}();var handleOnChange=function handleOnChange(searchData){setSearch(searchData);onSearchChange(searchData);};return/*#__PURE__*/_jsx(AsyncPaginate,{placeholder:\"Search for city\",debounceTimeout:600,value:search,onChange:handleOnChange,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["useState","AsyncPaginate","GEO_API_URL","geoApiOptions","jsx","_jsx","Search","_ref","onSearchChange","_useState","_useState2","_slicedToArray","search","setSearch","loadOptions","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inputValue","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","abrupt","options","map","city","value","latitude","longitude","label","name","countryCode","t0","console","error","stop","_x","apply","arguments","handleOnChange","searchData","placeholder","debounceTimeout","onChange"],"sources":["C:/Users/vishal yadav/Downloads/weather-app-main/weather-app-main/src/components/search/Search.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { AsyncPaginate } from \"react-select-async-paginate\";\r\nimport { GEO_API_URL, geoApiOptions } from \"../../Api\";\r\n\r\nconst Search = ({ onSearchChange }) => {\r\n\tconst [search, setSearch] = useState(null);\r\n\r\n\tconst loadOptions = async (inputValue) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`${GEO_API_URL}/cities?minPopulation=1000000&namePrefix=${inputValue}`, geoApiOptions);\r\n\t\t\tconst data = await response.json();\r\n      // console.log(data);\r\n      \r\n\t\t\treturn {\r\n\t\t\t\toptions: data.data.map((city) => ({\r\n          value: `${city.latitude} ${city.longitude}`,\r\n          label: `${city.name}, ${city.countryCode}`,\r\n\t\t\t\t\t\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t\t// console.log(typeof(response));\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n      return { options: [] };\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChange = (searchData) => {\r\n\t\tsetSearch(searchData);\r\n\t\tonSearchChange(searchData);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AsyncPaginate\r\n\t\t\tplaceholder=\"Search for city\"\r\n\t\t\tdebounceTimeout={600}\r\n\t\t\tvalue={search}\r\n\t\t\tonChange={handleOnChange}\r\n\t\t\tloadOptions={loadOptions}\r\n\t\t/>\r\n    \r\n\t)\r\n}\r\n\r\nexport default Search;"],"mappings":"qdAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,aAAa,KAAQ,6BAA6B,CAC3D,OAASC,WAAW,CAAEC,aAAa,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvD,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAAC,IAAA,CAA2B,IAArB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAC/B,IAAAC,SAAA,CAA4BT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,UAAU,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEZ,CAAAC,KAAK,IAAAC,MAAA,CAAI3B,WAAW,8CAAA2B,MAAA,CAA4CT,UAAU,EAAIjB,aAAa,CAAC,QAA7GkB,QAAQ,CAAAI,QAAA,CAAAK,IAAA,CAAAL,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACU,IAAI,CAAC,CAAC,QAA5BT,IAAI,CAAAG,QAAA,CAAAK,IAAA,QAAAL,QAAA,CAAAO,MAAA,UAGH,CACNC,OAAO,CAAEX,IAAI,CAACA,IAAI,CAACY,GAAG,CAAC,SAACC,IAAI,QAAM,CAC5BC,KAAK,IAAAP,MAAA,CAAKM,IAAI,CAACE,QAAQ,MAAAR,MAAA,CAAIM,IAAI,CAACG,SAAS,CAAE,CAC3CC,KAAK,IAAAV,MAAA,CAAKM,IAAI,CAACK,IAAI,OAAAX,MAAA,CAAKM,IAAI,CAACM,WAAW,CAE9C,CAAC,EAAC,CACH,CAAC,UAAAhB,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAiB,EAAA,CAAAjB,QAAA,aAIDkB,OAAO,CAACC,KAAK,CAAAnB,QAAA,CAAAiB,EAAM,CAAC,CAAC,OAAAjB,QAAA,CAAAO,MAAA,UACX,CAAEC,OAAO,CAAE,EAAG,CAAC,2BAAAR,QAAA,CAAAoB,IAAA,MAAA1B,OAAA,iBAE1B,kBAnBK,CAAAL,WAAWA,CAAAgC,EAAA,SAAA/B,KAAA,CAAAgC,KAAA,MAAAC,SAAA,OAmBhB,CAED,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,UAAU,CAAK,CACtCrC,SAAS,CAACqC,UAAU,CAAC,CACrB1C,cAAc,CAAC0C,UAAU,CAAC,CAC3B,CAAC,CAED,mBACC7C,IAAA,CAACJ,aAAa,EACbkD,WAAW,CAAC,iBAAiB,CAC7BC,eAAe,CAAE,GAAI,CACrBhB,KAAK,CAAExB,MAAO,CACdyC,QAAQ,CAAEJ,cAAe,CACzBnC,WAAW,CAAEA,WAAY,CACzB,CAAC,CAGJ,CAAC,CAED,cAAe,CAAAR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}